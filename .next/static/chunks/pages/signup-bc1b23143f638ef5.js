(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{8588:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return e(9231)}])},5305:function(){},6559:function(n,t,e){"use strict";e.d(t,{EC:function(){return a},Kd:function(){return Z},WO:function(){return m},cg:function(){return x},d$:function(){return d},jT:function(){return p},mS:function(){return b},mv:function(){return g},qW:function(){return i}});var o=e(7568),r=e(655),u=e(5935),c=e(7632);function i(n){return s.apply(this,arguments)}function s(){return(s=(0,o.Z)(function(n){return(0,r.__generator)(this,function(t){return u.RZ.collection("routes").doc(n).delete().then(function(){console.log("route deleted")}),[2]})})).apply(this,arguments)}function a(n){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(function(n){return(0,r.__generator)(this,function(t){return u.RZ.collection("busses").doc(n).delete().then(function(){console.log("bus deleted")}),[2]})})).apply(this,arguments)}function d(n){return f.apply(this,arguments)}function f(){return(f=(0,o.Z)(function(n){return(0,r.__generator)(this,function(t){return u.RZ.collection("bookings").doc(n).delete().then(function(){console.log("route deleted")}),[2]})})).apply(this,arguments)}function p(n){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(function(n){return(0,r.__generator)(this,function(t){return u.RZ.collection("bookings").doc(n).update({paid:!0}).then(function(){console.log("Booking payment approved")}).catch(function(n){console.log(n)}),[2]})})).apply(this,arguments)}function g(n,t,e,o,r,i,s){var a=(0,c.Z)();u.RZ.collection("bookings").doc(a).set({uid:a,user_uid:n,bus_id:t,route_id:e,departure_time:o,number_of_tickets:r,total_price:i,date:s,paid:!1}).then(function(){console.log("booking made")}).catch(function(n){console.log(n)})}function m(n,t,e,o){return _.apply(this,arguments)}function _(){return(_=(0,o.Z)(function(n,t,e,o){var i;return(0,r.__generator)(this,function(r){return i=(0,c.Z)(),u.RZ.collection("busses").doc(i).set({departure_time:n,number_of_seats:t,number_plate:e,routes_uid:o,uid:i}).then(function(){console.log("bus added")}).catch(function(n){console.log(n)}),[2]})})).apply(this,arguments)}function b(n,t,e,o,r){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(function(n,t,e,o,c){return(0,r.__generator)(this,function(r){return u.RZ.collection("busses").doc(n).update({departure_time:t,number_of_seats:e,number_plate:o,routes_uid:c}).then(function(){console.log("bus changes made")}).catch(function(n){console.log(n)}),[2]})})).apply(this,arguments)}function x(n,t){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(function(n,t){var e,o;return(0,r.__generator)(this,function(e){return o=(0,c.Z)(),u.RZ.collection("routes").where("from.name","==",n.name).where("to.name","==",t.name).get().then(function(e){e.empty?u.RZ.collection("routes").doc(o).set({from:n,to:t,uid:o}).then(function(){console.log("Route added")}).catch(function(n){console.log(n)}):console.log("route already exists")}),[2]})})).apply(this,arguments)}function Z(n,t,e){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(function(n,t,e){return(0,r.__generator)(this,function(o){return u.RZ.collection("routes").doc(n).update({from:t,to:e}).then(function(){console.log("Route changes made")}).catch(function(n){console.log(n)}),[2]})})).apply(this,arguments)}},9231:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return f}});var o,r=e(7568),u=e(655),c=e(5893),i=e(7294),s=e(5935);(0,r.Z)(function(n,t){return(0,u.__generator)(this,function(e){switch(e.label){case 0:return[4,s.I8.createUserWithEmailAndPassword(n,t)];case 1:return e.sent(),[2]}})}),e(6559);var a=e(1163),l=e(1664),d=e.n(l);e(5675),e(5305);var f=function(){var n,t=(0,a.useRouter)(),e=(0,i.useState)(""),o=e[0],l=e[1],f=(0,i.useState)(""),p=f[0],h=f[1],g=(0,i.useState)(""),m=g[0],_=g[1],b=(0,i.useState)(""),y=b[0],x=b[1],w=(0,i.useState)(),Z=w[0],v=w[1],k=(0,i.useState)(!1),N=k[0],R=k[1],j=(n=(0,r.Z)(function(){return(0,u.__generator)(this,function(n){return R(!0),p===m&&s.I8.createUserWithEmailAndPassword(o,p).then(function(n){console.log("uid: "+n.user.uid),s.RZ.collection("users").doc(n.user.uid).set({email:o,fullname:y,IDnum:Z,admin:!1,uid:n.user.uid}).then(function(){console.log("user added to database!"),t.push("/login")})}),[2]})}),function(){return n.apply(this,arguments)});return(0,c.jsx)("div",{className:" min-h-screen w-screen bg-bg_color",children:(0,c.jsxs)("div",{className:"flex flex-col space-y-8 w-1/4 mx-auto my-auto pt-60 ",children:[(0,c.jsx)("h1",{className:"text-dark_blue font-khand font-bold text-center text-4xl ",children:"Sign Up"}),(0,c.jsx)("input",{onChange:function(n){x(n.target.value)},className:"bg-white text-black h-10 p-3 rounded-lg focus:outline-none",placeholder:"Full Name"}),(0,c.jsx)("input",{onChange:function(n){l(n.target.value)},className:"bg-white text-black h-10 p-3 rounded-lg focus:outline-none",placeholder:"Email"}),(0,c.jsx)("input",{onChange:function(n){v(n.target.value)},className:"bg-white text-black h-10 p-3 rounded-lg focus:outline-none",placeholder:"ID number",type:"number"}),(0,c.jsx)("input",{onChange:function(n){h(n.target.value)},className:"bg-white text-black h-10 p-3 rounded-lg focus:outline-none",type:"password",placeholder:"Password"}),(0,c.jsx)("input",{onChange:function(n){_(n.target.value)},className:"bg-white text-black h-10 p-3 rounded-lg focus:outline-none",type:"password",placeholder:"Confirm Password"}),(0,c.jsx)("button",{onClick:j,className:"border-4 bg-pink_red text-white p-2 w-3/4 mx-auto rounded-xl",children:N?"Loading...":"Continue"}),(0,c.jsxs)("div",{className:"flex space-x-2 mx-auto pb-4",children:[(0,c.jsx)("span",{className:"text-dark_blue",children:"Already have an Account? "}),(0,c.jsx)(d(),{href:"/login",children:(0,c.jsx)("span",{className:"text-pink_red underline cursor-pointer",children:"Log In"})})]})]})})}},7632:function(n,t,e){"use strict";e.d(t,{Z:function(){return l}});let o="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var r={randomUUID:o};let u,c=new Uint8Array(16);function i(){if(!u&&!(u="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(c)}let s=[];for(let a=0;a<256;++a)s.push((a+256).toString(16).slice(1));var l=function(n,t,e){if(r.randomUUID&&!t&&!n)return r.randomUUID();n=n||{};let o=n.random||(n.rng||i)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){e=e||0;for(let u=0;u<16;++u)t[e+u]=o[u];return t}return function(n,t=0){return(s[n[t+0]]+s[n[t+1]]+s[n[t+2]]+s[n[t+3]]+"-"+s[n[t+4]]+s[n[t+5]]+"-"+s[n[t+6]]+s[n[t+7]]+"-"+s[n[t+8]]+s[n[t+9]]+"-"+s[n[t+10]]+s[n[t+11]]+s[n[t+12]]+s[n[t+13]]+s[n[t+14]]+s[n[t+15]]).toLowerCase()}(o)}}},function(n){n.O(0,[640,774,888,179],function(){return n(n.s=8588)}),_N_E=n.O()}]);